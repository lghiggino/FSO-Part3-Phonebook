{"version":3,"sources":["services/personService.js","components/PersonLi.js","components/AllNames.js","components/FilteredNames.js","components/FilterForm.js","components/AddPersonForm.js","App.js","index.js"],"names":["baseUrl","id","axios","delete","get","getAll","console","log","create","newObject","post","updateNumber","put","remove","PersonLi","person","setPersons","className","name","number","onClick","personService","then","response","data","AllNames","persons","nameError","wrongName","nameEditSuccess","invalidNameError","map","FilteredNames","filterError","filteredPersonsArray","FilterForm","searchName","setSearchName","showAll","setFilteredPersonsArray","setFilterError","setShowAll","onSubmit","event","preventDefault","filteredArray","filter","el","toLowerCase","length","value","onChange","target","placeholder","type","AddPersonForm","newName","newPhone","setNewName","setNameError","setWrongName","setNewPhone","setNameEditSuccess","setInvalidNameError","some","window","confirm","setTimeout","singlePerson","find","p","changedPerson","nothing","fullPersonData","concat","catch","error","App","useState","useEffect","message","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.29685ccb.chunk.js","sourcesContent":["import axios from \"axios\"\nconst baseUrl = (process.env.NODE_ENV === \"development\") | (process.env.NODE_ENV === \"test\")\n? \"http://localhost:3001/api/persons\"\n: \"api/persons\";\n\nconst getAll = () => {\n    console.log(\"bateu no getAll de person 'Service'\")\n    return  axios.get(baseUrl)\n}\n\nconst create = newObject => {\n    return axios.post(baseUrl, newObject)\n}\n\nconst updateNumber = (id, newObject) => {\n    return  axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nasync function remove(id) {\n    await axios.delete(`${baseUrl}/${id}`)\n    return await axios.get(baseUrl)\n}\n\nexport default { getAll, create, updateNumber, remove }","import personService from \"../services/personService\"\n\nexport default function PersonLi({ person, setPersons }) {\n    const removePerson = (id) => {\n        console.log(id)\n        personService.remove(id).then(response => {\n            console.log(response.data)\n            setPersons(response.data)\n        })\n    }\n\n\n    return (\n        <li key={person.id} className={\"personLi\"}> {person.name}: {person.number} <button onClick={() => removePerson(person.id)}>remove</button> </li>\n    )\n}\n\n","import PersonLi from \"./PersonLi\";\n\nexport default function AllNames({\n  persons,\n  nameError,\n  wrongName,\n  setPersons,\n  nameEditSuccess,\n  invalidNameError\n}) {\n  return (\n    <>\n      <h2>Names</h2>\n      {nameEditSuccess && (\n        <div>\n          <p className={\"success\"}> Number changed successfully</p>\n        </div>\n      )}\n      {nameError && (\n        <div>\n          <p className={\"error\"}>{wrongName}'s number was not changed</p>\n        </div>\n      )}\n      {invalidNameError && (\n        <div>\n          <p className={\"error\"}>Name is shorter than the minimum allowed length</p>\n        </div>\n      )}\n      <ul>\n        {persons.map((person) => (\n          <PersonLi key={person.id} person={person} setPersons={setPersons} />\n          // <li key={person.id} className={\"personLi\"}> {person.name}: {person.number} <button>remove</button> </li>\n        ))}\n      </ul>\n    </>\n  );\n}\n","import PersonLi from \"./PersonLi\"\n\nexport default function FilteredNames({ filterError, filteredPersonsArray, setPersons }) {\n    return (\n        <>\n            <h2>Filtered</h2>\n            {filterError &&\n                <div>\n                    <p className={\"error\"}>Error: There was no match for the search query</p>\n                </div>\n            }\n            <ul>\n                {filteredPersonsArray.map(person => (\n                    <PersonLi key={person.id} person={person} setPersons={setPersons} />\n                ))}\n            </ul>\n        </>\n    )\n}","import { useState } from \"react\"\n\nexport default function FilterForm({ persons, filteredPersonsArray, searchName, filterError, showAll, setSearchName, setFilteredPersonsArray, setFilterError, setShowAll   }) {\n    const handleSearchNameChange = (event) => {\n        setSearchName(event.target.value)\n    }\n\n    const filterPerson = (event) => {\n        event.preventDefault()\n        console.log(searchName)\n        const filteredArray = persons.filter(el => el.name.toLowerCase() === searchName.toLowerCase())\n        if (filteredArray.length > 0) {\n            setFilteredPersonsArray(filteredArray)\n            setShowAll(false)\n            setFilterError(false)\n        } else {\n            setFilterError(true)\n            setShowAll(true)\n        }\n        setSearchName(\"\")\n    }\n\n    return (\n        <>\n            <form onSubmit={filterPerson}>\n                <label>Search person:</label>\n                <input value={searchName} onChange={handleSearchNameChange} placeholder={\"type a person name\"} />\n                <button type=\"submit\">search</button>\n            </form>\n        </>\n    )\n}","import personService from \"../services/personService\";\n\nexport default function AddPersonForm({\n  persons,\n  newName,\n  newPhone,\n  setPersons,\n  setNewName,\n  setNameError,\n  setWrongName,\n  setNewPhone,\n  setNameEditSuccess,\n  setInvalidNameError,\n}) {\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handlePhoneChange = (event) => {\n    setNewPhone(event.target.value);\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    if (persons.some((el) => el.name === newName)) {\n      let numberSubstitution = window.confirm(\n        `${newName} is already in the phone book. Replace the old number with ${newPhone}?`\n      );\n      if (numberSubstitution) {\n        const singlePerson = persons.find((p) => p.name === newName);\n        const changedPerson = { ...singlePerson, number: newPhone };\n\n        personService\n          .updateNumber(changedPerson.id, changedPerson)\n          .then((response) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== response.data.id ? person : response.data\n              )\n            );\n          })\n          .then((nothing) => {\n            setNameEditSuccess(true);\n            setNameError(false);\n            setTimeout(() => {\n              setNameEditSuccess(false);\n            }, 5000);\n            return;\n          });\n      } else {\n        setNameError(true);\n        setTimeout(() => {\n          setNameError(false);\n        }, 5000);\n        setNameEditSuccess(false);\n        setWrongName(newName);\n        setNewName(\"\");\n        setNewPhone(\"\");\n        return;\n      }\n    }\n    const fullPersonData = {\n      name: newName,\n      number: newPhone,\n    };\n    personService\n      .create(fullPersonData)\n      .then((response) => {\n        setPersons(persons.concat(response.data));\n      })\n      .catch((error) => {\n        console.log(\"Error while creating a person\", error.response.data.error);\n        setInvalidNameError(true);\n      });\n    setNewName(\"\");\n    setNewPhone(\"\");\n    setNameError(false);\n  };\n\n  return (\n    <>\n      <form onSubmit={addPerson}>\n        <label>Add a new Person:</label>\n        <input\n          value={newName}\n          onChange={handlePersonChange}\n          placeholder={\"a new name...\"}\n        />\n        <input\n          value={newPhone}\n          onChange={handlePhoneChange}\n          placeholder={\"add phone number\"}\n        />\n        <button type=\"submit\">add</button>\n      </form>\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\n//import axios from \"axios\"\nimport \"./App.css\";\n\n/* PHONEBOOK */\nimport AllNames from \"./components/AllNames\";\nimport FilteredNames from \"./components/FilteredNames\";\nimport FilterForm from \"./components/FilterForm\";\nimport AddPersonForm from \"./components/AddPersonForm\";\n\nimport personService from \"./services/personService\";\n\nfunction App() {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [nameError, setNameError] = useState(false);\n  const [invalidNameError, setInvalidNameError] = useState(false)\n  const [nameEditSuccess, setNameEditSuccess] = useState(false);\n  const [wrongName, setWrongName] = useState(\"\");\n  const [newPhone, setNewPhone] = useState(\"\");\n  const [searchName, setSearchName] = useState(\"\");\n  const [filteredPersonsArray, setFilteredPersonsArray] = useState([]);\n  const [filterError, setFilterError] = useState(false);\n  const [showAll, setShowAll] = useState(true);\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then((response) => {\n        setPersons(response.data);\n      })\n      .catch((error) => console.log(error.message, error));\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <h2>Phonebook</h2>\n\n      <AddPersonForm\n        persons={persons}\n        newName={newName}\n        nameError={nameError}\n        wrongName={wrongName}\n        newPhone={newPhone}\n        setPersons={setPersons}\n        setNewName={setNewName}\n        setNameError={setNameError}\n        setWrongName={setWrongName}\n        setNewPhone={setNewPhone}\n        setNameEditSuccess={setNameEditSuccess}\n        setInvalidNameError={setInvalidNameError}\n      />\n\n      <FilterForm\n        persons={persons}\n        filteredPersonsArray={filteredPersonsArray}\n        searchName={searchName}\n        filterError={filterError}\n        showAll={showAll}\n        setSearchName={setSearchName}\n        setFilteredPersonsArray={setFilteredPersonsArray}\n        setFilterError={setFilterError}\n        setShowAll={setShowAll}\n      />\n\n      <AllNames\n        persons={persons}\n        nameError={nameError}\n        wrongName={wrongName}\n        setPersons={setPersons}\n        nameEditSuccess={nameEditSuccess}\n        invalidNameError={invalidNameError}\n      />\n\n      <FilteredNames\n        filteredPersonsArray={filteredPersonsArray}\n        filterError={filterError}\n        setPersons={setPersons}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n);\n\n\n\n\n\n"],"sourceRoot":""}