(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{21:function(e,t,r){},22:function(e,t,r){},43:function(e,t,r){"use strict";r.r(t);var n=r(1),s=r(15),c=r.n(s),a=(r(21),r(3)),o=(r(22),r(6)),u=r.n(o),i=r(16),l=r(4),j=r.n(l),b="/api/persons";function d(){return(d=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.delete("".concat(b,"/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h={getAll:function(){return j.a.get(b)},create:function(e){return j.a.post(b,e)},updateNumber:function(e,t){return j.a.put("".concat(b,"/").concat(e),t)},remove:function(e){return d.apply(this,arguments)}},m=r(0);function O(e){var t=e.person,r=e.setPersons;return Object(m.jsxs)("li",{className:"personLi",children:[" ",t.name,": ",t.number," ",Object(m.jsx)("button",{onClick:function(){return e=t.id,console.log(e),void h.remove(e).then((function(e){console.log(e.data),r(e.data)}));var e},children:"remove"})," "]},t.id)}function p(e){var t=e.persons,r=e.nameError,n=e.wrongName,s=e.setPersons,c=e.nameEditSuccess;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h2",{children:"Names"}),c&&Object(m.jsx)("div",{children:Object(m.jsx)("p",{className:"success",children:" Number changed successfully"})}),r&&Object(m.jsx)("div",{children:Object(m.jsxs)("p",{className:"error",children:[n,"'s number was not changed"]})}),Object(m.jsx)("ul",{children:t.map((function(e){return Object(m.jsx)(O,{person:e,setPersons:s},e.id)}))})]})}function f(e){var t=e.filterError,r=e.filteredPersonsArray,n=e.setPersons;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h2",{children:"Filtered"}),t&&Object(m.jsx)("div",{children:Object(m.jsx)("p",{className:"error",children:"Error: There was no match for the search query"})}),Object(m.jsx)("ul",{children:r.map((function(e){return Object(m.jsx)(O,{person:e,setPersons:n},e.id)}))})]})}function x(e){var t=e.persons,r=(e.filteredPersonsArray,e.searchName),n=(e.filterError,e.showAll,e.setSearchName),s=e.setFilteredPersonsArray,c=e.setFilterError,a=e.setShowAll;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(r);var o=t.filter((function(e){return e.name.toLowerCase()===r.toLowerCase()}));o.length>0?(s(o),a(!1),c(!1)):(c(!0),a(!0)),n("")},children:[Object(m.jsx)("label",{children:"Search person:"}),Object(m.jsx)("input",{value:r,onChange:function(e){n(e.target.value)},placeholder:"type a person name"}),Object(m.jsx)("button",{type:"submit",children:"search"})]})})}function v(e){var t=e.persons,r=e.newName,n=e.newPhone,s=e.setPersons,c=e.setNewName,a=e.setNameError,o=e.setWrongName,u=e.setNewPhone,i=e.setNameEditSuccess;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),t.some((function(e){return e.name===r})))return alert("Names must be unique. ".concat(r," was not saved")),a(!0),setTimeout((function(){a(!1)}),5e3),i(!1),o(r),c(""),void u("");var l={name:r,number:n};console.log(l),h.create(l).then((function(e){s(t.concat(e.data))})),c(""),u(""),a(!1)},children:[Object(m.jsx)("label",{children:"Add a new Person:"}),Object(m.jsx)("input",{value:r,onChange:function(e){c(e.target.value)},placeholder:"a new name..."}),Object(m.jsx)("input",{value:n,onChange:function(e){u(e.target.value)},placeholder:"add phone number"}),Object(m.jsx)("button",{type:"submit",children:"add"})]})})}var N=function(){var e=Object(n.useState)([]),t=Object(a.a)(e,2),r=t[0],s=t[1],c=Object(n.useState)(""),o=Object(a.a)(c,2),u=o[0],i=o[1],l=Object(n.useState)(!1),j=Object(a.a)(l,2),b=j[0],d=j[1],O=Object(n.useState)(!1),N=Object(a.a)(O,2),g=N[0],w=N[1],P=Object(n.useState)(""),S=Object(a.a)(P,2),E=S[0],y=S[1],A=Object(n.useState)(""),F=Object(a.a)(A,2),k=F[0],C=F[1],L=Object(n.useState)(""),q=Object(a.a)(L,2),D=q[0],J=q[1],T=Object(n.useState)([]),W=Object(a.a)(T,2),B=W[0],I=W[1],z=Object(n.useState)(!1),G=Object(a.a)(z,2),H=G[0],K=G[1],M=Object(n.useState)(!0),Q=Object(a.a)(M,2),R=Q[0],U=Q[1];return Object(n.useEffect)((function(){h.getAll().then((function(e){s(e.data)}))}),[]),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("h2",{children:"Phonebook"}),Object(m.jsx)(v,{persons:r,newName:u,nameError:b,wrongName:E,newPhone:k,setPersons:s,setNewName:i,setNameError:d,setWrongName:y,setNewPhone:C,setNameEditSuccess:w}),Object(m.jsx)(x,{persons:r,filteredPersonsArray:B,searchName:D,filterError:H,showAll:R,setSearchName:J,setFilteredPersonsArray:I,setFilterError:K,setShowAll:U}),Object(m.jsx)(p,{persons:r,nameError:b,wrongName:E,setPersons:s,nameEditSuccess:g}),Object(m.jsx)(f,{filteredPersonsArray:B,filterError:H,setPersons:s})]})};c.a.render(Object(m.jsx)(N,{}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.b69e17e5.chunk.js.map